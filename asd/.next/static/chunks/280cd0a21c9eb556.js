(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34772,e=>{"use strict";let a=[{id:"admin-1",email:"admin@greenflowers.kz",name:"ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€",phone:"+7 708 235 4533",role:"admin",createdAt:new Date("2024-01-01")},{id:"employee-1",email:"worker@greenflowers.kz",name:"Ð Ð°Ð±Ð¾Ñ‚Ð½Ð¸Ðº Ð¡ÐºÐ»Ð°Ð´Ð°",phone:"+7 777 111 2222",role:"employee",createdAt:new Date("2024-03-01")},{id:"client-1",email:"client@test.kz",name:"Ð˜Ð²Ð°Ð½ ÐŸÐµÑ‚Ñ€Ð¾Ð²",phone:"+7 777 333 4444",role:"user",city:"ÐÐ»Ð¼Ð°Ñ‚Ñ‹",createdAt:new Date("2024-06-01")}];e.s(["kazakhstanCities",0,[{id:"almaty",name:{ru:"ÐÐ»Ð¼Ð°Ñ‚Ñ‹",en:"Almaty",kk:"ÐÐ»Ð¼Ð°Ñ‚Ñ‹"}},{id:"astana",name:{ru:"ÐÑÑ‚Ð°Ð½Ð°",en:"Astana",kk:"ÐÑÑ‚Ð°Ð½Ð°"}},{id:"shymkent",name:{ru:"Ð¨Ñ‹Ð¼ÐºÐµÐ½Ñ‚",en:"Shymkent",kk:"Ð¨Ñ‹Ð¼ÐºÐµÐ½Ñ‚"}},{id:"karaganda",name:{ru:"ÐšÐ°Ñ€Ð°Ð³Ð°Ð½Ð´Ð°",en:"Karaganda",kk:"ÒšÐ°Ñ€Ð°Ò“Ð°Ð½Ð´Ñ‹"}},{id:"aktobe",name:{ru:"ÐÐºÑ‚Ð¾Ð±Ðµ",en:"Aktobe",kk:"ÐÒ›Ñ‚Ó©Ð±Ðµ"}},{id:"taraz",name:{ru:"Ð¢Ð°Ñ€Ð°Ð·",en:"Taraz",kk:"Ð¢Ð°Ñ€Ð°Ð·"}},{id:"pavlodar",name:{ru:"ÐŸÐ°Ð²Ð»Ð¾Ð´Ð°Ñ€",en:"Pavlodar",kk:"ÐŸÐ°Ð²Ð»Ð¾Ð´Ð°Ñ€"}},{id:"ust-kamenogorsk",name:{ru:"Ð£ÑÑ‚ÑŒ-ÐšÐ°Ð¼ÐµÐ½Ð¾Ð³Ð¾Ñ€ÑÐº",en:"Ust-Kamenogorsk",kk:"Ó¨ÑÐºÐµÐ¼ÐµÐ½"}},{id:"semey",name:{ru:"Ð¡ÐµÐ¼ÐµÐ¹",en:"Semey",kk:"Ð¡ÐµÐ¼ÐµÐ¹"}},{id:"atyrau",name:{ru:"ÐÑ‚Ñ‹Ñ€Ð°Ñƒ",en:"Atyrau",kk:"ÐÑ‚Ñ‹Ñ€Ð°Ñƒ"}},{id:"kostanay",name:{ru:"ÐšÐ¾ÑÑ‚Ð°Ð½Ð°Ð¹",en:"Kostanay",kk:"ÒšÐ¾ÑÑ‚Ð°Ð½Ð°Ð¹"}},{id:"petropavlovsk",name:{ru:"ÐŸÐµÑ‚Ñ€Ð¾Ð¿Ð°Ð²Ð»Ð¾Ð²ÑÐº",en:"Petropavlovsk",kk:"ÐŸÐµÑ‚Ñ€Ð¾Ð¿Ð°Ð²Ð»"}},{id:"oral",name:{ru:"Ð£Ñ€Ð°Ð»ÑŒÑÐº",en:"Oral",kk:"ÐžÑ€Ð°Ð»"}},{id:"aktau",name:{ru:"ÐÐºÑ‚Ð°Ñƒ",en:"Aktau",kk:"ÐÒ›Ñ‚Ð°Ñƒ"}},{id:"kyzylorda",name:{ru:"ÐšÑ‹Ð·Ñ‹Ð»Ð¾Ñ€Ð´Ð°",en:"Kyzylorda",kk:"ÒšÑ‹Ð·Ñ‹Ð»Ð¾Ñ€Ð´Ð°"}},{id:"turkestan",name:{ru:"Ð¢ÑƒÑ€ÐºÐµÑÑ‚Ð°Ð½",en:"Turkestan",kk:"Ð¢Ò¯Ñ€ÐºÑ–ÑÑ‚Ð°Ð½"}}],"mockUsers",0,a])},97873,e=>{"use strict";var a=e.i(94606),t=e.i(23952);function s({className:e,type:s,...r}){return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>s])},72479,e=>{"use strict";var a=e.i(94606),t=e.i(62415);e.i(84233);var s=e.i(7233),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,s.createSlot)(`Primitive.${r}`),n=t.forwardRef((e,t)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?i:r,{...n,ref:t})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),i=t.forwardRef((e,t)=>(0,a.jsx)(r.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=e.i(23952);function l({className:e,...t}){return(0,a.jsx)(i,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>l],72479)},41763,e=>{"use strict";var a=e.i(94606),t=e.i(62415),s=e.i(11983),r=e.i(35124),i=e.i(52572),n=e.i(34772),l=e.i(63918),d=e.i(97873),c=e.i(72479),o=e.i(42268);function u(){let e,{user:u}=(0,i.useAuth)(),m=(0,s.useRouter)(),[x,p]=(0,t.useState)(1),[h,g]=(0,t.useState)(u?.city||""),[b,y]=(0,t.useState)(""),[f,j]=(0,t.useState)([]),[v,k]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[_,S]=(0,t.useState)("all"),[C,q]=(0,t.useState)([]),[I,L]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{let e=await o.api.getProducts();e.success&&q(e.products)}catch(e){console.error("Error fetching products:",e)}finally{L(!1)}})()},[]);let z={all:"Ð’ÑÐµ",roses:"Ð Ð¾Ð·Ñ‹",chrysanthemums:"Ð¥Ñ€Ð¸Ð·Ð°Ð½Ñ‚ÐµÐ¼Ñ‹",carnations:"Ð“Ð²Ð¾Ð·Ð´Ð¸ÐºÐ¸",gypsophila:"Ð“Ð¸Ð¿ÑÐ¾Ñ„Ð¸Ð»Ð°",lilies:"Ð›Ð¸Ð»Ð¸Ð¸",gerberas:"Ð“ÐµÑ€Ð±ÐµÑ€Ñ‹"},A=C.filter(e=>{let a=e.name.toLowerCase().includes(N.toLowerCase()),t="all"===_||e.category===_;return a&&t}),T=()=>f.reduce((e,a)=>{let t=C.find(e=>e.id===a.productId);return e+(t?.price_per_unit||0)*a.quantity},0),D=async()=>{if(h&&b&&0!==f.length&&u?.id)try{let e=f.map(e=>({product_id:e.productId,quantity:e.quantity})),a={userId:u.id,items:e,delivery_city:n.kazakhstanCities.find(e=>e.id===h)?.name.ru||h,delivery_address:u.city||"",delivery_date:b,payment_method:"kaspi_qr",notes:v};await o.api.createOrder(a),m.push("/client")}catch(e){console.error("Error creating order:",e),alert("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð·Ð°ÐºÐ°Ð·Ð°")}};return(0,a.jsxs)(r.DashboardLayout,{title:"ÐÐ¾Ð²Ñ‹Ð¹ Ð·Ð°ÐºÐ°Ð·",requiredRole:"user",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${x>=e?"bg-[#568a56] text-white":"bg-gray-200 text-gray-500"}`,children:e}),e<3&&(0,a.jsx)("div",{className:`w-16 h-1 mx-2 ${x>e?"bg-[#568a56]":"bg-gray-200"}`})]},e))}),(0,a.jsxs)("div",{className:"flex justify-center gap-12 mt-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"Ð”Ð¾ÑÑ‚Ð°Ð²ÐºÐ°"}),(0,a.jsx)("span",{children:"Ð¢Ð¾Ð²Ð°Ñ€Ñ‹"}),(0,a.jsx)("span",{children:"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ"})]})]}),1===x&&(0,a.jsxs)("div",{className:"max-w-lg mx-auto bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"city",children:"Ð“Ð¾Ñ€Ð¾Ð´ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸"}),(0,a.jsxs)("select",{id:"city",value:h,onChange:e=>g(e.target.value),className:"mt-1 w-full px-3 py-2 border border-input rounded-md bg-background",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð³Ð¾Ñ€Ð¾Ð´"}),n.kazakhstanCities.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name.ru},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"date",children:"Ð–ÐµÐ»Ð°ÐµÐ¼Ð°Ñ Ð´Ð°Ñ‚Ð° Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸"}),(0,a.jsx)(d.Input,{id:"date",type:"date",value:b,onChange:e=>y(e.target.value),min:((e=new Date).setDate(e.getDate()+10),e.toISOString().split("T")[0]),className:"mt-1",required:!0}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 10 Ð´Ð½ÐµÐ¹ Ñ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ð° Ð·Ð°ÐºÐ°Ð·Ð°"})]}),(0,a.jsx)(l.Button,{onClick:()=>p(2),disabled:!h||!b,className:"w-full bg-[#568a56] hover:bg-[#457245]",children:"Ð”Ð°Ð»ÐµÐµ â€” Ð’Ñ‹Ð±Ð¾Ñ€ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²"})]})]}),2===x&&(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,a.jsx)(d.Input,{placeholder:"ÐŸÐ¾Ð¸ÑÐº Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²...",value:N,onChange:e=>w(e.target.value),className:"max-w-xs"}),(0,a.jsx)("select",{value:_,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-input rounded-md bg-background",children:["all","roses","chrysanthemums","carnations","gypsophila","lilies","gerberas"].map(e=>(0,a.jsx)("option",{value:e,children:z[e]},e))})]}),I?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-[#568a56] border-t-transparent rounded-full mx-auto"}),(0,a.jsx)("p",{className:"text-gray-500 mt-4",children:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²..."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(e=>{let t=f.find(a=>a.productId===e.id);return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 flex gap-4",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-100 to-green-50 rounded-lg flex items-center justify-center",children:e.image_url?(0,a.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,a.jsx)("span",{className:"text-3xl",children:"ðŸŒ¸"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.packaging_type}),(0,a.jsxs)("p",{className:"text-lg font-bold text-[#568a56]",children:[e.price_per_unit?.toLocaleString()," KZT"]}),t?(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)(d.Input,{type:"number",value:t.quantity,onChange:a=>{var t,s;let r;return t=e.id,s=Number.parseInt(a.target.value)||0,void((r=C.find(e=>e.id===t))&&(s<(r.min_order_quantity||1)?j(f.filter(e=>e.productId!==t)):j(f.map(e=>e.productId===t?{...e,quantity:s}:e))))},min:e.min_order_quantity||1,className:"w-20"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"ÑˆÑ‚."})]}):(0,a.jsx)(l.Button,{size:"sm",onClick:()=>{var a;let t,s;return a=e.id,t=f.find(e=>e.productId===a),void((s=C.find(e=>e.id===a))&&(t?j(f.map(e=>e.productId===a?{...e,quantity:e.quantity+1}:e)):j([...f,{productId:a,quantity:s.min_order_quantity||1}])))},className:"mt-2 bg-[#568a56]",children:"+ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ"})]})]},e.id)})})]}),(0,a.jsx)("div",{className:"lg:w-80",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 sticky top-24",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-4",children:"ÐšÐ¾Ñ€Ð·Ð¸Ð½Ð°"}),0===f.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"space-y-3 mb-4",children:f.map(e=>{let t=C.find(a=>a.id===e.productId);return t?(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600",children:[t.name.slice(0,20),"... x",e.quantity]}),(0,a.jsx)("span",{className:"font-medium",children:((t.price_per_unit||0)*e.quantity).toLocaleString()})]},e.productId):null})}),(0,a.jsx)("div",{className:"border-t pt-4 mb-4",children:(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,a.jsx)("span",{children:"Ð˜Ñ‚Ð¾Ð³Ð¾:"}),(0,a.jsxs)("span",{className:"text-[#568a56]",children:[T().toLocaleString()," KZT"]})]})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>p(1),className:"flex-1",children:"ÐÐ°Ð·Ð°Ð´"}),(0,a.jsx)(l.Button,{onClick:()=>p(3),disabled:0===f.length,className:"flex-1 bg-[#568a56] hover:bg-[#457245]",children:"Ð”Ð°Ð»ÐµÐµ"})]})]})})]})}),3===x&&(0,a.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð·Ð°ÐºÐ°Ð·Ð°"}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Ð“Ð¾Ñ€Ð¾Ð´ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸:"}),(0,a.jsx)("span",{className:"font-medium",children:n.kazakhstanCities.find(e=>e.id===h)?.name.ru})]}),(0,a.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Ð”Ð°Ñ‚Ð° Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸:"}),(0,a.jsx)("span",{className:"font-medium",children:b})]}),(0,a.jsxs)("div",{className:"py-2 border-b",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-2",children:"Ð¢Ð¾Ð²Ð°Ñ€Ñ‹:"}),f.map(e=>{let t=C.find(a=>a.id===e.productId);return t?(0,a.jsxs)("div",{className:"flex justify-between text-sm py-1",children:[(0,a.jsxs)("span",{children:[t.name," x ",e.quantity," ÑˆÑ‚."]}),(0,a.jsxs)("span",{children:[((t.price_per_unit||0)*e.quantity).toLocaleString()," KZT"]})]},e.productId):null})]}),(0,a.jsxs)("div",{className:"flex justify-between py-2 text-xl font-bold",children:[(0,a.jsx)("span",{children:"Ð˜Ñ‚Ð¾Ð³Ð¾:"}),(0,a.jsxs)("span",{className:"text-[#568a56]",children:[T().toLocaleString()," KZT"]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(c.Label,{htmlFor:"notes",children:"ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ Ðº Ð·Ð°ÐºÐ°Ð·Ñƒ (Ð½ÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾)"}),(0,a.jsx)("textarea",{id:"notes",value:v,onChange:e=>k(e.target.value),className:"mt-1 w-full px-3 py-2 border border-input rounded-md bg-background min-h-[100px]",placeholder:"ÐžÑÐ¾Ð±Ñ‹Ðµ Ð¿Ð¾Ð¶ÐµÐ»Ð°Ð½Ð¸Ñ, Ð²Ñ€ÐµÐ¼Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¸ Ñ‚.Ð´."})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>p(2),className:"flex-1",children:"ÐÐ°Ð·Ð°Ð´"}),(0,a.jsx)(l.Button,{onClick:D,className:"flex-1 bg-[#568a56] hover:bg-[#457245]",children:"ÐžÑ„Ð¾Ñ€Ð¼Ð¸Ñ‚ÑŒ Ð·Ð°ÐºÐ°Ð·"})]})]})]})}e.s(["default",()=>u])}]);