(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97873,e=>{"use strict";var r=e.i(94606),t=e.i(23952);function a({className:e,type:a,...i}){return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>a])},72479,e=>{"use strict";var r=e.i(94606),t=e.i(62415);e.i(84233);var a=e.i(7233),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let l=(0,a.createSlot)(`Primitive.${i}`),n=t.forwardRef((e,t)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(a?l:i,{...n,ref:t})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),l=t.forwardRef((e,t)=>(0,r.jsx)(i.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));l.displayName="Label";var n=e.i(23952);function s({className:e,...t}){return(0,r.jsx)(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>s],72479)},18819,e=>{"use strict";var r=e.i(94606),t=e.i(62415),a=e.i(35124),i=e.i(63918),l=e.i(97873),n=e.i(72479),s=e.i(42268),d=e.i(52572);function o(){let{user:e}=(0,d.useAuth)(),[o,c]=(0,t.useState)([]),[u,p]=(0,t.useState)(!0),[x,m]=(0,t.useState)(!1),[g,h]=(0,t.useState)(null),[v,b]=(0,t.useState)(""),[_,y]=(0,t.useState)({name:"",category:"",color:"",variety:"",description:"",price_per_unit:"",price_per_box:"",stock_quantity:"",min_order_quantity:"",stem_length:"",packaging_type:"",image_url:"",next_delivery_date:""});(0,t.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=await s.api.getFlowers();e.success&&c(e.products)}catch(e){console.error("Error fetching flowers:",e)}finally{p(!1)}},f=e=>{e?(h(e),y({name:e.name,category:e.category,color:e.color,variety:e.variety||"",description:e.description||"",price_per_unit:e.price_per_unit.toString(),price_per_box:e.price_per_box?.toString()||"",stock_quantity:e.stock_quantity.toString(),min_order_quantity:e.min_order_quantity.toString(),stem_length:e.stem_length||"",packaging_type:e.packaging_type||"",image_url:e.image_url||"",next_delivery_date:e.next_delivery_date||""})):(h(null),y({name:"",category:"roses",color:"",variety:"",description:"",price_per_unit:"",price_per_box:"",stock_quantity:"0",min_order_quantity:"50",stem_length:"",packaging_type:"",image_url:"",next_delivery_date:""})),m(!0)},w=async r=>{if(r.preventDefault(),e?.id)try{let r={name:_.name,category:_.category,color:_.color,variety:_.variety,description:_.description,price_per_unit:parseFloat(_.price_per_unit),price_per_box:parseFloat(_.price_per_box)||null,stock_quantity:parseInt(_.stock_quantity),min_order_quantity:parseInt(_.min_order_quantity),stem_length:_.stem_length,packaging_type:_.packaging_type,image_url:_.image_url,next_delivery_date:_.next_delivery_date||null};g?await s.api.updateFlower(e.id,g.id,r):await s.api.createFlower(e.id,r),m(!1),j()}catch(e){console.error("Error saving flower:",e),alert("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ð¸")}},N=o.filter(e=>e.name.toLowerCase().includes(v.toLowerCase()));return(0,r.jsxs)(a.DashboardLayout,{title:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ†Ð²ÐµÑ‚Ð°Ð¼Ð¸",requiredRole:"worker",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)(l.Input,{placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ...",value:v,onChange:e=>b(e.target.value),className:"max-w-xs"}),(0,r.jsx)(i.Button,{onClick:()=>f(),className:"bg-[#568a56] hover:bg-[#457245]",children:"+ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ†Ð²ÐµÑ‚Ð¾Ðº"})]}),u?(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-[#568a56] border-t-transparent rounded-full mx-auto"}),(0,r.jsx)("p",{className:"text-gray-500 mt-4",children:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..."})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(t=>(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,r.jsxs)("div",{className:"flex gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-100 to-green-50 rounded-lg flex items-center justify-center flex-shrink-0",children:t.image_url?(0,r.jsx)("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover rounded-lg"}):(0,r.jsx)("span",{className:"text-3xl",children:"ðŸŒ¸"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:t.color}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:t.variety})]})]}),(0,r.jsxs)("div",{className:"space-y-1 text-sm mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Ð¦ÐµÐ½Ð° Ð·Ð° ÑˆÑ‚:"}),(0,r.jsxs)("span",{className:"font-medium",children:[t.price_per_unit," KZT"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Ð’ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸:"}),(0,r.jsxs)("span",{children:[t.stock_quantity," ÑˆÑ‚."]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.Button,{size:"sm",variant:"outline",onClick:()=>f(t),className:"flex-1",children:"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"}),(0,r.jsx)(i.Button,{size:"sm",variant:"destructive",onClick:async()=>{if(e?.id&&confirm(`Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ${t.name}?`))try{await s.api.deleteFlower(e.id,t.id),j()}catch(e){console.error("Error deleting flower:",e),alert("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸")}},className:"flex-1",children:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"})]})]},t.id))}),x&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:g?"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ†Ð²ÐµÑ‚Ð¾Ðº":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚Ð¾Ðº"}),(0,r.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ *"}),(0,r.jsx)(l.Input,{value:_.name,onChange:e=>y({..._,name:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ *"}),(0,r.jsx)("select",{value:_.category,onChange:e=>y({..._,category:e.target.value}),className:"w-full px-3 py-2 border border-input rounded-md",required:!0,children:[{value:"roses",label:"Ð Ð¾Ð·Ñ‹"},{value:"chrysanthemums",label:"Ð¥Ñ€Ð¸Ð·Ð°Ð½Ñ‚ÐµÐ¼Ñ‹"},{value:"carnations",label:"Ð“Ð²Ð¾Ð·Ð´Ð¸ÐºÐ¸"},{value:"lilies",label:"Ð›Ð¸Ð»Ð¸Ð¸"},{value:"gerberas",label:"Ð“ÐµÑ€Ð±ÐµÑ€Ñ‹"},{value:"gypsophila",label:"Ð“Ð¸Ð¿ÑÐ¾Ñ„Ð¸Ð»Ð°"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"Ð¦Ð²ÐµÑ‚ *"}),(0,r.jsx)(l.Input,{value:_.color,onChange:e=>y({..._,color:e.target.value}),placeholder:"ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹, Ð±ÐµÐ»Ñ‹Ð¹...",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"Ð¡Ð¾Ñ€Ñ‚"}),(0,r.jsx)(l.Input,{value:_.variety,onChange:e=>y({..._,variety:e.target.value}),placeholder:"Red Pearl..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"Ð¦ÐµÐ½Ð° Ð·Ð° ÑˆÑ‚ÑƒÐºÑƒ (KZT) *"}),(0,r.jsx)(l.Input,{type:"number",step:"0.01",value:_.price_per_unit,onChange:e=>y({..._,price_per_unit:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"Ð¦ÐµÐ½Ð° Ð·Ð° ÐºÐ¾Ñ€Ð¾Ð±ÐºÑƒ (KZT)"}),(0,r.jsx)(l.Input,{type:"number",step:"0.01",value:_.price_per_box,onChange:e=>y({..._,price_per_box:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð½Ð° ÑÐºÐ»Ð°Ð´Ðµ *"}),(0,r.jsx)(l.Input,{type:"number",value:_.stock_quantity,onChange:e=>y({..._,stock_quantity:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð·Ð°ÐºÐ°Ð· *"}),(0,r.jsx)(l.Input,{type:"number",value:_.min_order_quantity,onChange:e=>y({..._,min_order_quantity:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"Ð”Ð»Ð¸Ð½Ð° ÑÑ‚ÐµÐ±Ð»Ñ"}),(0,r.jsx)(l.Input,{value:_.stem_length,onChange:e=>y({..._,stem_length:e.target.value}),placeholder:"60cm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"Ð¢Ð¸Ð¿ ÑƒÐ¿Ð°ÐºÐ¾Ð²ÐºÐ¸"}),(0,r.jsx)(l.Input,{value:_.packaging_type,onChange:e=>y({..._,packaging_type:e.target.value}),placeholder:"Box of 50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"URL Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ"}),(0,r.jsx)(l.Input,{value:_.image_url,onChange:e=>y({..._,image_url:e.target.value}),placeholder:"/red-roses.jpg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"Ð”Ð°Ñ‚Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð¿Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸"}),(0,r.jsx)(l.Input,{type:"date",value:_.next_delivery_date,onChange:e=>y({..._,next_delivery_date:e.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{children:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ"}),(0,r.jsx)("textarea",{value:_.description,onChange:e=>y({..._,description:e.target.value}),className:"w-full px-3 py-2 border border-input rounded-md min-h-[100px]",placeholder:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ†Ð²ÐµÑ‚ÐºÐ°..."})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)(i.Button,{type:"submit",className:"flex-1 bg-[#568a56] hover:bg-[#457245]",children:g?"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ†Ð²ÐµÑ‚Ð¾Ðº"}),(0,r.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"ÐžÑ‚Ð¼ÐµÐ½Ð°"})]})]})]})})})]})}e.s(["default",()=>o])}]);