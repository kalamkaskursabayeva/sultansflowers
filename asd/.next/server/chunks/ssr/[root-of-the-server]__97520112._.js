module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},43285,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/dynamic-access-async-storage.external.js",()=>require("next/dist/server/app-render/dynamic-access-async-storage.external.js"))},118,(a,b,c)=>{"use strict";b.exports=a.r(37178).vendored.contexts.HooksClientContext},66764,(a,b,c)=>{"use strict";b.exports=a.r(37178).vendored.contexts.ServerInsertedHtml},37178,(a,b,c)=>{"use strict";b.exports=a.r(18622)},15477,(a,b,c)=>{"use strict";b.exports=a.r(37178).vendored["react-ssr"].ReactJsxRuntime},47519,(a,b,c)=>{"use strict";b.exports=a.r(37178).vendored["react-ssr"].React},29687,(a,b,c)=>{"use strict";b.exports=a.r(37178).vendored.contexts.AppRouterContext},55106,(a,b,c)=>{"use strict";b.exports=a.r(37178).vendored["react-ssr"].ReactServerDOMTurbopackClient},37181,(a,b,c)=>{"use strict";b.exports=a.r(37178).vendored["react-ssr"].ReactDOM},14281,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},42914,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},4483,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},72063,a=>{"use strict";let b=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",c=new class{baseURL;constructor(){this.baseURL=b}buildQuery(a){let b={};return a&&Object.entries(a).forEach(([a,c])=>{null!=c&&(b[a]=String(c))}),new URLSearchParams(b).toString()}async request(a,b={}){let c=`${this.baseURL}${a}`,d={headers:{"Content-Type":"application/json",...b.headers},...b};try{let b=await fetch(c,d),e=b.headers.get("content-type")||"";if(console.log(`[API] ${a} - Status: ${b.status}, Content-Type: ${e}`),e.includes("application/json")){let a=await b.json().catch(()=>({error:`HTTP ${b.status}: ${b.statusText}`}));if(!b.ok)return{success:!1,error:a.error||`HTTP ${b.status}: ${b.statusText}`,...a};return a}if(e.includes("text/csv")||e.includes("text/plain")){let c=await b.text();if(console.log(`[API] ${a} - CSV text length: ${c.length}`),!b.ok)return{success:!1,error:`HTTP ${b.status}: ${b.statusText}`};return c}if(e.includes("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")||e.includes("application/octet-stream")){let a=await b.blob();if(!b.ok)return{success:!1,error:`HTTP ${b.status}: ${b.statusText}`};return a}try{let a=await b.json();if(!b.ok)return{success:!1,error:a.error||`HTTP ${b.status}: ${b.statusText}`,...a};return a}catch(c){let a=await b.text();if(!b.ok)return{success:!1,error:`HTTP ${b.status}: ${b.statusText}`};return a}}catch(a){return console.error("API Request Error:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}async register(a){return this.request("/users/register",{method:"POST",body:JSON.stringify(a)})}async login(a,b){return this.request("/users/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async getAllUsers(a){return this.request(`/users/admin/users?adminId=${a}`)}async updateUserRole(a,b,c){return this.request(`/users/admin/users/${b}/role`,{method:"PUT",body:JSON.stringify({adminId:a,newRole:c})})}async deleteUser(a,b){return this.request(`/users/admin/users/${b}?adminId=${a}`,{method:"DELETE"})}async updateUser(a,b,c){return this.request(`/users/admin/users/${b}`,{method:"PUT",body:JSON.stringify({adminId:a,...c})})}async changeUserPassword(a,b,c){return this.request(`/users/admin/users/${b}/password`,{method:"PUT",body:JSON.stringify({adminId:a,newPassword:c})})}async getProducts(){return this.request("/products")}async getProduct(a){return this.request(`/products/${a}`)}async createProduct(a,b){return this.request("/products",{method:"POST",body:JSON.stringify({userId:a,...b})})}async updateProduct(a,b,c){return this.request(`/products/${b}`,{method:"PUT",body:JSON.stringify({userId:a,...c})})}async deleteProduct(a,b){return this.request(`/products/${b}?adminId=${a}`,{method:"DELETE"})}async createOrder(a){return this.request("/orders",{method:"POST",body:JSON.stringify(a)})}async getUserOrders(a){return this.request(`/orders/user/${a}`)}async getAllOrders(a){return this.request(`/orders/all?userId=${a}`)}async confirmOrder(a,b){return this.request(`/orders/${b}/confirm`,{method:"PUT",body:JSON.stringify({userId:a})})}async updateOrderStatus(a,b,c){return this.request(`/orders/${b}/status`,{method:"PUT",body:JSON.stringify({userId:a,status:c})})}async getUserPreorders(a){return this.request(`/preorders/user/${a}`)}async getAllPreorders(a){return this.request(`/preorders/all?userId=${a}`)}async getLogs(a,b={}){let c=new URLSearchParams({adminId:a,...b});return this.request(`/logs?${c.toString()}`)}async getLogsStats(a){return this.request(`/logs/stats?adminId=${a}`)}async cleanOldLogs(a,b=90){return this.request("/logs/clean",{method:"DELETE",body:JSON.stringify({adminId:a,days:b})})}async getFlowers(){return this.request("/flowers")}async getFlower(a){return this.request(`/flowers/${a}`)}async createFlower(a,b){return this.request("/flowers",{method:"POST",body:JSON.stringify({userId:a,...b})})}async updateFlower(a,b,c){return this.request(`/flowers/${b}`,{method:"PUT",body:JSON.stringify({userId:a,...c})})}async deleteFlower(a,b){return this.request(`/flowers/${b}?adminId=${a}`,{method:"DELETE"})}async updateProfile(a,b){return this.request(`/users/profile/${a}`,{method:"PUT",body:JSON.stringify(b)})}async getProfileStats(a){return this.request(`/users/profile/${a}/stats`)}async getCart(a){return this.request(`/cart/user/${a}`)}async addToCart(a,b,c){return this.request("/cart",{method:"POST",body:JSON.stringify({userId:a,product_id:b,quantity:c})})}async updateCartItem(a,b,c){return this.request(`/cart/${a}`,{method:"PUT",body:JSON.stringify({userId:b,quantity:c})})}async removeFromCart(a,b){return this.request(`/cart/${a}?userId=${b}`,{method:"DELETE"})}async clearCart(a){return this.request(`/cart/user/${a}/clear`,{method:"DELETE"})}async getInventoryBatches(a){let b=this.buildQuery(a);return this.request(`/inventory/batches${b?"?"+b:""}`)}async getInventoryBatch(a){return this.request(`/inventory/batches/${a}`)}async createInventoryBatch(a){return this.request("/inventory/batches",{method:"POST",body:JSON.stringify(a)})}async updateInventoryBatch(a,b){return this.request(`/inventory/batches/${a}`,{method:"PUT",body:JSON.stringify(b)})}async deleteInventoryBatch(a,b){return this.request(`/inventory/batches/${a}?userId=${b}`,{method:"DELETE"})}async getInventoryPriceComparison(a){let b=this.buildQuery(a);return this.request(`/inventory/analytics/price-comparison${b?"?"+b:""}`)}async getInventoryByCategory(a){let b=this.buildQuery(a);return this.request(`/inventory/analytics/by-category${b?"?"+b:""}`)}async exportInventoryCSV(a){let b=this.buildQuery(a);return this.request(`/inventory/export/csv${b?"?"+b:""}`)}async exportInventoryJSON(a){let b=this.buildQuery(a);return this.request(`/inventory/export/json${b?"?"+b:""}`)}async getCurrentShift(a){return this.request(`/shifts/current/${a}`)}async getShifts(a){let b=new URLSearchParams(a).toString();return this.request(`/shifts${b?"?"+b:""}`)}async getShift(a){return this.request(`/shifts/${a}`)}async openShift(a){return this.request("/shifts/open",{method:"POST",body:JSON.stringify(a)})}async closeShift(a){return this.request("/shifts/close",{method:"POST",body:JSON.stringify(a)})}async addShiftSale(a){return this.request("/shifts/sale",{method:"POST",body:JSON.stringify(a)})}async updateShiftSale(a,b){return this.request(`/shifts/sales/${a}`,{method:"PUT",body:JSON.stringify(b)})}async deleteShiftSale(a){return this.request(`/shifts/sales/${a}`,{method:"DELETE"})}async getSellerActiveOrders(a){return this.request(`/shifts/seller/${a}/active-orders`)}async getShiftAnalyticsBySeller(a){let b=new URLSearchParams(a).toString();return this.request(`/shifts/analytics/by-seller${b?"?"+b:""}`)}async getShiftAnalyticsByDay(a){let b=new URLSearchParams(a).toString();return this.request(`/shifts/analytics/by-day${b?"?"+b:""}`)}async exportShiftsCSV(a){let b=new URLSearchParams(a).toString();return this.request(`/shifts/export/csv${b?"?"+b:""}`)}async getCalendarEvents(a){let b=new URLSearchParams(a).toString();return this.request(`/calendar/events${b?"?"+b:""}`)}async getCalendarMonthEvents(a,b){return this.request(`/calendar/events/month/${a}/${b}`)}async createCalendarEvent(a){return this.request("/calendar/events",{method:"POST",body:JSON.stringify(a)})}async updateCalendarEvent(a,b){return this.request(`/calendar/events/${a}`,{method:"PUT",body:JSON.stringify(b)})}async markEventAsRead(a){return this.request(`/calendar/events/${a}/read`,{method:"POST"})}async deleteCalendarEvent(a,b){return this.request(`/calendar/events/${a}?userId=${b}`,{method:"DELETE"})}async getAnalyticsThresholds(){return this.request("/calendar/thresholds")}async updateAnalyticsThreshold(a,b){return this.request(`/calendar/thresholds/${a}`,{method:"PUT",body:JSON.stringify(b)})}async getAnalyticsSummary(a){let b=new URLSearchParams(a).toString();return this.request(`/calendar/summary${b?"?"+b:""}`)}async getTopProducts(a){let b=new URLSearchParams(a).toString();return this.request(`/calendar/top-products${b?"?"+b:""}`)}async getAvailableOrders(){return this.request("/shifts/available-orders")}async acceptOrder(a,b){return this.request(`/shifts/accept-order/${a}/${b}`,{method:"POST"})}async exportShiftsExcel(a){let b=`${this.baseURL}/shifts/export/excel/${a}`;try{let c=await fetch(b);if(!c.ok)throw Error("Export failed");let d=await c.blob(),e=window.URL.createObjectURL(d),f=document.createElement("a");return f.href=e,f.download=`Shift_${a}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(e),{success:!0}}catch(a){throw console.error("Export Error:",a),a}}async generateCalendarEvents(a){return this.request("/calendar/generate-events",{method:"POST",body:JSON.stringify({userId:a})})}};a.s(["api",0,c,"createOrder",0,a=>c.createOrder(a)])},63183,a=>{"use strict";var b=a.i(15477),c=a.i(47519),d=a.i(72063);let e=(0,c.createContext)(void 0);function f({children:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let a=localStorage.getItem("greenflowers_user");if(a)try{g(JSON.parse(a))}catch{localStorage.removeItem("greenflowers_user")}i(!1)},[]);let j=async(a,b)=>{try{let c=await d.api.login(a,b);if(c.success&&c.user)return g(c.user),localStorage.setItem("greenflowers_user",JSON.stringify(c.user)),{success:!0};return{success:!1,error:"Ошибка входа"}}catch(a){return{success:!1,error:a.message||"Неверный email или пароль"}}},k=async a=>{try{let b=await d.api.register({email:a.email,password:a.password,name:a.name,phone:a.phone,city:a.city,company_name:void 0});if(b.success&&b.user)return g(b.user),localStorage.setItem("greenflowers_user",JSON.stringify(b.user)),{success:!0};return{success:!1,error:"Ошибка регистрации"}}catch(a){return{success:!1,error:a.message||"Пользователь с таким email уже существует"}}};return(0,b.jsx)(e.Provider,{value:{user:f,isLoading:h,login:j,register:k,logout:()=>{g(null),localStorage.removeItem("greenflowers_user")},updateUser:a=>{g(a),localStorage.setItem("greenflowers_user",JSON.stringify(a))},isAuthenticated:!!f},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useAuth must be used within AuthProvider");return a}a.s(["AuthProvider",()=>f,"useAuth",()=>g])},84328,a=>{"use strict";var b=a.i(15477),c=a.i(47519);let d=(0,c.createContext)(void 0);function e({children:a}){let[e,f]=(0,c.useState)("en"),[g,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{h(!0);let a=localStorage.getItem("language"),b=navigator.language.split("-")[0];f(a||(["en","ru","kk"].includes(b)?b:"en"))},[]),(0,b.jsx)(d.Provider,{value:{language:e,setLanguage:a=>{f(a),localStorage.setItem("language",a)},isClient:g},children:a})}function f(){let a=(0,c.useContext)(d);if(!a)throw Error("useLanguageContext must be used within LanguageProvider");return a}a.s(["LanguageProvider",()=>e,"useLanguageContext",()=>f])},94589,a=>{"use strict";var b=a.i(15477),c=a.i(47519),d=a.i(72063);let e=(0,c.createContext)(void 0);function f({children:a}){let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=localStorage.getItem("greenflowers_user");if(a)try{let b=JSON.parse(a);k(b.id)}catch(a){console.error("Error loading user:",a)}},[]),(0,c.useEffect)(()=>{j&&l()},[j]);let l=async()=>{if(j){i(!0);try{let a=await d.api.getCart(j);a.success&&g(a.cart||[])}catch(a){console.error("Error loading cart:",a)}finally{i(!1)}}},m=async(a,b)=>{if(!j){let c=JSON.parse(localStorage.getItem("temp_cart")||"[]");c.push({product:a,quantity:b}),localStorage.setItem("temp_cart",JSON.stringify(c)),alert("Войдите в аккаунт чтобы сохранить корзину");return}try{(await d.api.addToCart(j,a.id,b)).success&&await l()}catch(a){console.error("Error adding to cart:",a),alert("Ошибка при добавлении в корзину")}},n=async a=>{if(j)try{(await d.api.removeFromCart(a,j)).success&&await l()}catch(a){console.error("Error removing from cart:",a)}},o=async(a,b)=>{if(j)try{(await d.api.updateCartItem(a,j,b)).success&&await l()}catch(a){console.error("Error updating cart:",a)}},p=async()=>{if(j)try{(await d.api.clearCart(j)).success&&g([])}catch(a){console.error("Error clearing cart:",a)}};return(0,b.jsx)(e.Provider,{value:{cart:f,loading:h,addToCart:m,removeFromCart:n,updateQuantity:o,clearCart:p,getCartTotal:()=>f.reduce((a,b)=>a+Number(b.price_per_box||50*Number(b.price_per_unit||0))*b.quantity,0),getCartCount:()=>f.reduce((a,b)=>a+b.quantity,0),loadCart:l},children:a})}function g(){let a=(0,c.useContext)(e);if(void 0===a)throw Error("useCart must be used within a CartProvider");return a}a.s(["CartProvider",()=>f,"useCart",()=>g])},71209,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e({error:a}){if(d){let b=d.getStore();if(b?.isStaticGeneration)throw a&&console.error(a),a}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},65049,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return h}});let d=a.r(15477),e=a.r(71209),f={fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},g={fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"},h=function({error:a}){let b=a?.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:a}),(0,d.jsx)("div",{style:f,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:g,children:["Application error: a ",b?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",b?"server logs":"browser console"," for more information)."]}),b?(0,d.jsx)("p",{style:g,children:`Digest: ${b}`}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},12918,a=>{"use strict";var b=a.i(47519),c=a.i(82383);function d(a){return RegExp(`/${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function e(a){return(0,b.useEffect)(()=>{var b;a.beforeSend&&(null==(b=window.va)||b.call(window,"beforeSend",a.beforeSend))},[a.beforeSend]),(0,b.useEffect)(()=>{!function(a={debug:!0}){}({framework:a.framework||"react",basePath:a.basePath??function(){if("undefined"!=typeof process&&void 0!==process.env)return process.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==a.route&&{disableAutoTrack:!0},...a})},[]),(0,b.useEffect)(()=>{a.route&&a.path&&function({route:a,path:b}){var c;null==(c=window.va)||c.call(window,"pageview",{route:a,path:b})}({route:a.route,path:a.path})},[a.route,a.path]),null}function f(a){let f,g,h,{route:i,path:j}=(f=(0,c.useParams)(),g=(0,c.useSearchParams)(),h=(0,c.usePathname)(),f?{route:function(a,b){if(!a||!b)return a;let c=a;try{let a=Object.entries(b);for(let[b,e]of a)if(!Array.isArray(e)){let a=d(e);a.test(c)&&(c=c.replace(a,`/[${b}]`))}for(let[b,e]of a)if(Array.isArray(e)){let a=d(e.join("/"));a.test(c)&&(c=c.replace(a,`/[...${b}]`))}return c}catch(b){return a}}(h,Object.keys(f).length?f:Object.fromEntries(g.entries())),path:h}:{route:null,path:h});return b.default.createElement(e,{path:j,route:i,...a,basePath:function(){if("undefined"!=typeof process&&void 0!==process.env)return process.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function g(a){return b.default.createElement(b.Suspense,{fallback:null},b.default.createElement(f,{...a}))}a.s(["Analytics",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__97520112._.js.map