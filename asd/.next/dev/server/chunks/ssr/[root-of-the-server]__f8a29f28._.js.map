{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Downloads/flowers%20%286%29/sdfg/contexts/language-context.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useEffect } from \"react\"\n\nexport type Language = \"en\" | \"kk\" | \"ru\"\n\ninterface LanguageContextType {\n  language: Language\n  setLanguage: (lang: Language) => void\n  isClient: boolean\n}\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined)\n\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\n  const [language, setLanguageState] = useState<Language>(\"en\")\n  const [isClient, setIsClient] = useState(false)\n\n  useEffect(() => {\n    setIsClient(true)\n    // Load language from localStorage or browser language\n    const stored = localStorage.getItem(\"language\") as Language | null\n    const browserLang = navigator.language.split(\"-\")[0] as Language\n    const initialLang = stored || ([\"en\", \"ru\", \"kk\"].includes(browserLang) ? browserLang : \"en\")\n    setLanguageState(initialLang)\n  }, [])\n\n  const setLanguage = (lang: Language) => {\n    setLanguageState(lang)\n    localStorage.setItem(\"language\", lang)\n  }\n\n  return <LanguageContext.Provider value={{ language, setLanguage, isClient }}>{children}</LanguageContext.Provider>\n}\n\nexport function useLanguageContext() {\n  const context = useContext(LanguageContext)\n  if (!context) {\n    throw new Error(\"useLanguageContext must be used within LanguageProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAaA,MAAM,gCAAkB,IAAA,8NAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,UAAU,iBAAiB,GAAG,IAAA,yNAAQ,EAAW;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yNAAQ,EAAC;IAEzC,IAAA,0NAAS,EAAC;QACR,YAAY;QACZ,sDAAsD;QACtD,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,MAAM,cAAc,UAAU,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;QACpD,MAAM,cAAc,UAAU,CAAC;YAAC;YAAM;YAAM;SAAK,CAAC,QAAQ,CAAC,eAAe,cAAc,IAAI;QAC5F,iBAAiB;IACnB,GAAG,EAAE;IAEL,MAAM,cAAc,CAAC;QACnB,iBAAiB;QACjB,aAAa,OAAO,CAAC,YAAY;IACnC;IAEA,qBAAO,sPAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAa;QAAS;kBAAI;;;;;;AAChF;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,2NAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Downloads/flowers%20%286%29/sdfg/lib/api-client.ts"],"sourcesContent":["// API client для связи фронтенда с бэкендом\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\n\r\nclass ApiClient {\r\n  baseURL: string;\r\n\r\n  constructor() {\r\n    this.baseURL = API_URL;\r\n  }\r\n\r\n  async request(endpoint: string, options: RequestInit = {}): Promise<any> {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n    const config: RequestInit = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n\r\n      const contentType = response.headers.get(\"content-type\") || \"\";\r\n      console.log(\r\n        `[API] ${endpoint} - Status: ${response.status}, Content-Type: ${contentType}`\r\n      );\r\n\r\n      // Если ответ JSON — парсим как раньше\r\n      if (contentType.includes(\"application/json\")) {\r\n        const data = await response.json().catch(() => ({\r\n          error: `HTTP ${response.status}: ${response.statusText}`,\r\n        }));\r\n        if (!response.ok) {\r\n          return {\r\n            success: false,\r\n            error:\r\n              data.error || `HTTP ${response.status}: ${response.statusText}`,\r\n            ...data,\r\n          };\r\n        }\r\n        return data;\r\n      }\r\n\r\n      // Если это CSV — возвращаем текст (чтобы frontend мог создать Blob из строки)\r\n      if (\r\n        contentType.includes(\"text/csv\") ||\r\n        contentType.includes(\"text/plain\")\r\n      ) {\r\n        const text = await response.text();\r\n        console.log(`[API] ${endpoint} - CSV text length: ${text.length}`);\r\n        if (!response.ok) {\r\n          return {\r\n            success: false,\r\n            error: `HTTP ${response.status}: ${response.statusText}`,\r\n          };\r\n        }\r\n        return text;\r\n      }\r\n\r\n      // Если это бинарный файл (xlsx) — возвращаем Blob\r\n      if (\r\n        contentType.includes(\r\n          \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n        ) ||\r\n        contentType.includes(\"application/octet-stream\")\r\n      ) {\r\n        const blob = await response.blob();\r\n        if (!response.ok) {\r\n          return {\r\n            success: false,\r\n            error: `HTTP ${response.status}: ${response.statusText}`,\r\n          };\r\n        }\r\n        return blob;\r\n      }\r\n\r\n      // По умолчанию пытаемся распарсить как JSON, иначе вернуть текст\r\n      try {\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          return {\r\n            success: false,\r\n            error:\r\n              data.error || `HTTP ${response.status}: ${response.statusText}`,\r\n            ...data,\r\n          };\r\n        }\r\n        return data;\r\n      } catch (e) {\r\n        const text = await response.text();\r\n        if (!response.ok) {\r\n          return {\r\n            success: false,\r\n            error: `HTTP ${response.status}: ${response.statusText}`,\r\n          };\r\n        }\r\n        return text;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"API Request Error:\", error);\r\n      // Возвращаем ошибку вместо выброса\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : \"Unknown error\",\r\n      };\r\n    }\r\n  } // ============ AUTH ============\r\n  async register(userData) {\r\n    return this.request(\"/users/register\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(userData),\r\n    });\r\n  }\r\n\r\n  async login(email, password) {\r\n    return this.request(\"/users/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n  }\r\n\r\n  // ============ USERS (Admin) ============\r\n  async getAllUsers(adminId) {\r\n    return this.request(`/users/admin/users?adminId=${adminId}`);\r\n  }\r\n\r\n  async updateUserRole(adminId, userId, newRole) {\r\n    return this.request(`/users/admin/users/${userId}/role`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ adminId, newRole }),\r\n    });\r\n  }\r\n\r\n  async deleteUser(adminId, userId) {\r\n    return this.request(`/users/admin/users/${userId}?adminId=${adminId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  async updateUser(adminId, userId, userData) {\r\n    return this.request(`/users/admin/users/${userId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ adminId, ...userData }),\r\n    });\r\n  }\r\n\r\n  async changeUserPassword(adminId, userId, newPassword) {\r\n    return this.request(`/users/admin/users/${userId}/password`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ adminId, newPassword }),\r\n    });\r\n  }\r\n\r\n  // ============ PRODUCTS ============\r\n  async getProducts() {\r\n    return this.request(\"/products\");\r\n  }\r\n\r\n  async getProduct(id) {\r\n    return this.request(`/products/${id}`);\r\n  }\r\n\r\n  async createProduct(userId, productData) {\r\n    return this.request(\"/products\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ userId, ...productData }),\r\n    });\r\n  }\r\n\r\n  async updateProduct(userId, productId, productData) {\r\n    return this.request(`/products/${productId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ userId, ...productData }),\r\n    });\r\n  }\r\n\r\n  async deleteProduct(adminId, productId) {\r\n    return this.request(`/products/${productId}?adminId=${adminId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  // ============ ORDERS ============\r\n  async createOrder(orderData) {\r\n    return this.request(\"/orders\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(orderData),\r\n    });\r\n  }\r\n\r\n  async getUserOrders(userId) {\r\n    return this.request(`/orders/user/${userId}`);\r\n  }\r\n\r\n  async getAllOrders(userId) {\r\n    return this.request(`/orders/all?userId=${userId}`);\r\n  }\r\n\r\n  async confirmOrder(userId, orderId) {\r\n    return this.request(`/orders/${orderId}/confirm`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ userId }),\r\n    });\r\n  }\r\n\r\n  async updateOrderStatus(userId, orderId, status) {\r\n    return this.request(`/orders/${orderId}/status`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ userId, status }),\r\n    });\r\n  }\r\n\r\n  // ============ PREORDERS ============\r\n  async getUserPreorders(userId) {\r\n    return this.request(`/preorders/user/${userId}`);\r\n  }\r\n\r\n  async getAllPreorders(userId) {\r\n    return this.request(`/preorders/all?userId=${userId}`);\r\n  }\r\n\r\n  // ============ LOGS (Admin) ============\r\n  async getLogs(adminId, filters = {}) {\r\n    const params = new URLSearchParams({ adminId, ...filters });\r\n    return this.request(`/logs?${params.toString()}`);\r\n  }\r\n\r\n  async getLogsStats(adminId) {\r\n    return this.request(`/logs/stats?adminId=${adminId}`);\r\n  }\r\n\r\n  async cleanOldLogs(adminId, days = 90) {\r\n    return this.request(\"/logs/clean\", {\r\n      method: \"DELETE\",\r\n      body: JSON.stringify({ adminId, days }),\r\n    });\r\n  }\r\n\r\n  // ============ FLOWERS (Admin & Worker) ============\r\n  async getFlowers() {\r\n    return this.request(\"/flowers\");\r\n  }\r\n\r\n  async getFlower(id) {\r\n    return this.request(`/flowers/${id}`);\r\n  }\r\n\r\n  async createFlower(userId, flowerData) {\r\n    return this.request(\"/flowers\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ userId, ...flowerData }),\r\n    });\r\n  }\r\n\r\n  async updateFlower(userId, flowerId, flowerData) {\r\n    return this.request(`/flowers/${flowerId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ userId, ...flowerData }),\r\n    });\r\n  }\r\n\r\n  async deleteFlower(adminId, flowerId) {\r\n    return this.request(`/flowers/${flowerId}?adminId=${adminId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  // ============ USER PROFILE ============\r\n  async updateProfile(userId, profileData) {\r\n    return this.request(`/users/profile/${userId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(profileData),\r\n    });\r\n  }\r\n\r\n  async getProfileStats(userId) {\r\n    return this.request(`/users/profile/${userId}/stats`);\r\n  }\r\n\r\n  // ============ CART ============\r\n  async getCart(userId) {\r\n    return this.request(`/cart/user/${userId}`);\r\n  }\r\n\r\n  async addToCart(userId, product_id, quantity) {\r\n    return this.request(\"/cart\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ userId, product_id, quantity }),\r\n    });\r\n  }\r\n\r\n  async updateCartItem(itemId, userId, quantity) {\r\n    return this.request(`/cart/${itemId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ userId, quantity }),\r\n    });\r\n  }\r\n\r\n  async removeFromCart(itemId, userId) {\r\n    return this.request(`/cart/${itemId}?userId=${userId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  async clearCart(userId) {\r\n    return this.request(`/cart/user/${userId}/clear`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  // ============ INVENTORY (Поставки товаров) ============\r\n  async getInventoryBatches(params?: {\r\n    userId?: number;\r\n    startDate?: string;\r\n    endDate?: string;\r\n    status?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/inventory/batches${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  async getInventoryBatch(id: number) {\r\n    return this.request(`/inventory/batches/${id}`);\r\n  }\r\n\r\n  async createInventoryBatch(data: {\r\n    userId: number;\r\n    batchDate: string;\r\n    supplierName?: string;\r\n    notes?: string;\r\n    items: any[];\r\n  }) {\r\n    return this.request(\"/inventory/batches\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async updateInventoryBatch(id: number, data: any) {\r\n    return this.request(`/inventory/batches/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteInventoryBatch(id: number, userId: number) {\r\n    return this.request(`/inventory/batches/${id}?userId=${userId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  async getInventoryPriceComparison(params?: {\r\n    productName?: string;\r\n    startDate?: string;\r\n    endDate?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(\r\n      `/inventory/analytics/price-comparison${query ? \"?\" + query : \"\"}`\r\n    );\r\n  }\r\n\r\n  async getInventoryByCategory(params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(\r\n      `/inventory/analytics/by-category${query ? \"?\" + query : \"\"}`\r\n    );\r\n  }\r\n\r\n  async exportInventoryCSV(params?: {\r\n    batchId?: number;\r\n    startDate?: string;\r\n    endDate?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/inventory/export/csv${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  async exportInventoryJSON(params?: {\r\n    batchId?: number;\r\n    startDate?: string;\r\n    endDate?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/inventory/export/json${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  // ============ SHIFTS (Смены продавцов) ============\r\n  async getCurrentShift(userId: number) {\r\n    return this.request(`/shifts/current/${userId}`);\r\n  }\r\n\r\n  async getShifts(params?: {\r\n    userId?: number;\r\n    startDate?: string;\r\n    endDate?: string;\r\n    sellerId?: number;\r\n    status?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/shifts${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  async getShift(id: number) {\r\n    return this.request(`/shifts/${id}`);\r\n  }\r\n\r\n  async openShift(data: {\r\n    userId: number;\r\n    openingCash?: number;\r\n    notes?: string;\r\n  }) {\r\n    return this.request(\"/shifts/open\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async closeShift(data: {\r\n    userId: number;\r\n    shiftId: number;\r\n    closingCash: number;\r\n    notes?: string;\r\n  }) {\r\n    return this.request(\"/shifts/close\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async addShiftSale(data: {\r\n    shiftId: number;\r\n    orderId?: number;\r\n    saleAmount: number;\r\n    discountAmount?: number;\r\n    paymentMethod?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.request(\"/shifts/sale\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async updateShiftSale(\r\n    saleId: number,\r\n    data: {\r\n      saleAmount?: number;\r\n      discountAmount?: number;\r\n      paymentMethod?: string;\r\n      notes?: string;\r\n    }\r\n  ) {\r\n    return this.request(`/shifts/sales/${saleId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteShiftSale(saleId: number) {\r\n    return this.request(`/shifts/sales/${saleId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  async getSellerActiveOrders(sellerId: number) {\r\n    return this.request(`/shifts/seller/${sellerId}/active-orders`);\r\n  }\r\n\r\n  async getShiftAnalyticsBySeller(params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(\r\n      `/shifts/analytics/by-seller${query ? \"?\" + query : \"\"}`\r\n    );\r\n  }\r\n\r\n  async getShiftAnalyticsByDay(params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/shifts/analytics/by-day${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  async exportShiftsCSV(params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n    sellerId?: number;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/shifts/export/csv${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  // ============ CALENDAR (Календарь и аналитика) ============\r\n  async getCalendarEvents(params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n    eventType?: string;\r\n    priority?: string;\r\n    isRead?: string;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/calendar/events${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  async getCalendarMonthEvents(year: number, month: number) {\r\n    return this.request(`/calendar/events/month/${year}/${month}`);\r\n  }\r\n\r\n  async createCalendarEvent(data: {\r\n    userId: number;\r\n    eventDate: string;\r\n    eventType?: string;\r\n    title: string;\r\n    description?: string;\r\n    priority?: string;\r\n  }) {\r\n    return this.request(\"/calendar/events\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async updateCalendarEvent(\r\n    id: number,\r\n    data: {\r\n      title?: string;\r\n      description?: string;\r\n      priority?: string;\r\n      isRead?: boolean;\r\n    }\r\n  ) {\r\n    return this.request(`/calendar/events/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async markEventAsRead(id: number) {\r\n    return this.request(`/calendar/events/${id}/read`, {\r\n      method: \"POST\",\r\n    });\r\n  }\r\n\r\n  async deleteCalendarEvent(id: number, userId: number) {\r\n    return this.request(`/calendar/events/${id}?userId=${userId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  async getAnalyticsThresholds() {\r\n    return this.request(\"/calendar/thresholds\");\r\n  }\r\n\r\n  async updateAnalyticsThreshold(\r\n    type: string,\r\n    data: { userId: number; value?: number; isActive?: boolean }\r\n  ) {\r\n    return this.request(`/calendar/thresholds/${type}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async getAnalyticsSummary(params?: { startDate?: string; endDate?: string }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/calendar/summary${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  async getTopProducts(params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n    limit?: number;\r\n  }) {\r\n    const query = new URLSearchParams(params as any).toString();\r\n    return this.request(`/calendar/top-products${query ? \"?\" + query : \"\"}`);\r\n  }\r\n\r\n  async getAvailableOrders() {\r\n    return this.request(\"/shifts/available-orders\");\r\n  }\r\n\r\n  async acceptOrder(orderId: number, sellerId: number) {\r\n    return this.request(`/shifts/accept-order/${orderId}/${sellerId}`, {\r\n      method: \"POST\",\r\n    });\r\n  }\r\n\r\n  async exportShiftsExcel(shiftId: number) {\r\n    const url = `${this.baseURL}/shifts/export/excel/${shiftId}`;\r\n    try {\r\n      const response = await fetch(url);\r\n      if (!response.ok) {\r\n        throw new Error(\"Export failed\");\r\n      }\r\n      const blob = await response.blob();\r\n      const downloadUrl = window.URL.createObjectURL(blob);\r\n      const link = document.createElement(\"a\");\r\n      link.href = downloadUrl;\r\n      link.download = `Shift_${shiftId}_${\r\n        new Date().toISOString().split(\"T\")[0]\r\n      }.xlsx`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(downloadUrl);\r\n      return { success: true };\r\n    } catch (error) {\r\n      console.error(\"Export Error:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async generateCalendarEvents(userId: number) {\r\n    return this.request(\"/calendar/generate-events\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ userId }),\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new ApiClient();\r\n\r\n// Named exports\r\nexport const register = (userData) => api.register(userData);\r\nexport const login = (email, password) => api.login(email, password);\r\nexport const getProducts = () => api.getProducts();\r\nexport const getProduct = (id) => api.getProduct(id);\r\nexport const createOrder = (orderData) => api.createOrder(orderData);\r\nexport const getUserOrders = (userId) => api.getUserOrders(userId);\r\nexport const getAllOrders = (userId) => api.getAllOrders(userId);\r\nexport const getCart = (userId) => api.getCart(userId);\r\nexport const addToCart = (userId, product_id, quantity) =>\r\n  api.addToCart(userId, product_id, quantity);\r\nexport const updateCartItem = (itemId, userId, quantity) =>\r\n  api.updateCartItem(itemId, userId, quantity);\r\nexport const removeFromCart = (itemId, userId) =>\r\n  api.removeFromCart(itemId, userId);\r\nexport const clearCart = (userId) => api.clearCart(userId);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 610, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Downloads/flowers%20%286%29/sdfg/contexts/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport { api } from \"@/lib/api-client\"\n\nexport type UserRole = \"user\" | \"worker\" | \"admin\"\n\nexport interface User {\n  id: number\n  email: string\n  name: string\n  phone: string\n  role: UserRole\n  city?: string\n  company_name?: string\n  is_active?: boolean\n  created_at?: string\n}\n\ninterface AuthContextType {\n  user: User | null\n  isLoading: boolean\n  login: (email: string, password: string) => Promise<{ success: boolean; error?: string }>\n  register: (data: RegisterData) => Promise<{ success: boolean; error?: string }>\n  logout: () => void\n  updateUser: (userData: User) => void\n  isAuthenticated: boolean\n}\n\ninterface RegisterData {\n  email: string\n  password: string\n  name: string\n  phone: string\n  city: string\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  // Check for saved session on mount\n  useEffect(() => {\n    const savedUser = localStorage.getItem(\"greenflowers_user\")\n    if (savedUser) {\n      try {\n        setUser(JSON.parse(savedUser))\n      } catch {\n        localStorage.removeItem(\"greenflowers_user\")\n      }\n    }\n    setIsLoading(false)\n  }, [])\n\n  const login = async (email: string, password: string) => {\n    try {\n      const response = await api.login(email, password)\n      \n      if (response.success && response.user) {\n        setUser(response.user)\n        localStorage.setItem(\"greenflowers_user\", JSON.stringify(response.user))\n        return { success: true }\n      }\n      \n      return { success: false, error: \"Ошибка входа\" }\n    } catch (error: any) {\n      return { success: false, error: error.message || \"Неверный email или пароль\" }\n    }\n  }\n\n  const register = async (data: RegisterData) => {\n    try {\n      const response = await api.register({\n        email: data.email,\n        password: data.password,\n        name: data.name,\n        phone: data.phone,\n        city: data.city,\n        company_name: undefined,\n      })\n\n      if (response.success && response.user) {\n        setUser(response.user)\n        localStorage.setItem(\"greenflowers_user\", JSON.stringify(response.user))\n        return { success: true }\n      }\n\n      return { success: false, error: \"Ошибка регистрации\" }\n    } catch (error: any) {\n      return { success: false, error: error.message || \"Пользователь с таким email уже существует\" }\n    }\n  }\n\n  const logout = () => {\n    setUser(null)\n    localStorage.removeItem(\"greenflowers_user\")\n  }\n\n  const updateUser = (userData: User) => {\n    setUser(userData)\n    localStorage.setItem(\"greenflowers_user\", JSON.stringify(userData))\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isLoading,\n        login,\n        register,\n        logout,\n        updateUser,\n        isAuthenticated: !!user,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAqCA,MAAM,4BAAc,IAAA,8NAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yNAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yNAAQ,EAAC;IAE3C,mCAAmC;IACnC,IAAA,0NAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,IAAI;gBACF,QAAQ,KAAK,KAAK,CAAC;YACrB,EAAE,OAAM;gBACN,aAAa,UAAU,CAAC;YAC1B;QACF;QACA,aAAa;IACf,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe;QAClC,IAAI;YACF,MAAM,WAAW,MAAM,mIAAG,CAAC,KAAK,CAAC,OAAO;YAExC,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;gBACrC,QAAQ,SAAS,IAAI;gBACrB,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC,SAAS,IAAI;gBACtE,OAAO;oBAAE,SAAS;gBAAK;YACzB;YAEA,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAe;QACjD,EAAE,OAAO,OAAY;YACnB,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO,IAAI;YAA4B;QAC/E;IACF;IAEA,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,MAAM,WAAW,MAAM,mIAAG,CAAC,QAAQ,CAAC;gBAClC,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;gBACvB,MAAM,KAAK,IAAI;gBACf,OAAO,KAAK,KAAK;gBACjB,MAAM,KAAK,IAAI;gBACf,cAAc;YAChB;YAEA,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;gBACrC,QAAQ,SAAS,IAAI;gBACrB,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC,SAAS,IAAI;gBACtE,OAAO;oBAAE,SAAS;gBAAK;YACzB;YAEA,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAqB;QACvD,EAAE,OAAO,OAAY;YACnB,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO,IAAI;YAA4C;QAC/F;IACF;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,MAAM,aAAa,CAAC;QAClB,QAAQ;QACR,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;IAC3D;IAEA,qBACE,sPAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA,iBAAiB,CAAC,CAAC;QACrB;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,2NAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Downloads/flowers%20%286%29/sdfg/contexts/cart-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react'\r\nimport { api } from '@/lib/api-client'\r\n\r\ninterface CartItem {\r\n  id: number\r\n  product_id: number\r\n  quantity: number\r\n  name?: string\r\n  price_per_unit?: number\r\n  price_per_box?: number\r\n  color?: string\r\n  variety?: string\r\n  stem_length?: string\r\n  packaging_type?: string\r\n  image_url?: string\r\n  min_order_quantity?: number\r\n}\r\n\r\ninterface CartContextType {\r\n  cart: CartItem[]\r\n  loading: boolean\r\n  addToCart: (product: any, quantity: number) => Promise<void>\r\n  removeFromCart: (itemId: number) => Promise<void>\r\n  updateQuantity: (itemId: number, quantity: number) => Promise<void>\r\n  clearCart: () => Promise<void>\r\n  getCartTotal: () => number\r\n  getCartCount: () => number\r\n  loadCart: () => Promise<void>\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined)\r\n\r\nexport function CartProvider({ children }: { children: React.ReactNode }) {\r\n  const [cart, setCart] = useState<CartItem[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [userId, setUserId] = useState<number | null>(null)\r\n\r\n  // Загрузка userId из localStorage\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('greenflowers_user')\r\n    if (savedUser) {\r\n      try {\r\n        const user = JSON.parse(savedUser)\r\n        setUserId(user.id)\r\n      } catch (error) {\r\n        console.error('Error loading user:', error)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  // Загрузка корзины при монтировании\r\n  useEffect(() => {\r\n    if (userId) {\r\n      loadCart()\r\n    }\r\n  }, [userId])\r\n\r\n  const loadCart = async () => {\r\n    if (!userId) return\r\n    \r\n    setLoading(true)\r\n    try {\r\n      const response = await api.getCart(userId)\r\n      if (response.success) {\r\n        setCart(response.cart || [])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading cart:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const addToCart = async (product: any, quantity: number) => {\r\n    if (!userId) {\r\n      // Если нет пользователя, сохраняем в localStorage временно\r\n      const tempCart = JSON.parse(localStorage.getItem('temp_cart') || '[]')\r\n      tempCart.push({ product, quantity })\r\n      localStorage.setItem('temp_cart', JSON.stringify(tempCart))\r\n      alert('Войдите в аккаунт чтобы сохранить корзину')\r\n      return\r\n    }\r\n\r\n    try {\r\n      const response = await api.addToCart(userId, product.id, quantity)\r\n      if (response.success) {\r\n        await loadCart()\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error)\r\n      alert('Ошибка при добавлении в корзину')\r\n    }\r\n  }\r\n\r\n  const removeFromCart = async (itemId: number) => {\r\n    if (!userId) return\r\n    \r\n    try {\r\n      const response = await api.removeFromCart(itemId, userId)\r\n      if (response.success) {\r\n        await loadCart()\r\n      }\r\n    } catch (error) {\r\n      console.error('Error removing from cart:', error)\r\n    }\r\n  }\r\n\r\n  const updateQuantity = async (itemId: number, quantity: number) => {\r\n    if (!userId) return\r\n    \r\n    try {\r\n      const response = await api.updateCartItem(itemId, userId, quantity)\r\n      if (response.success) {\r\n        await loadCart()\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating cart:', error)\r\n    }\r\n  }\r\n\r\n  const clearCart = async () => {\r\n    if (!userId) return\r\n    \r\n    try {\r\n      const response = await api.clearCart(userId)\r\n      if (response.success) {\r\n        setCart([])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error clearing cart:', error)\r\n    }\r\n  }\r\n\r\n  const getCartTotal = () => {\r\n    return cart.reduce((total, item) => {\r\n      const pricePerBox = Number(item.price_per_box || Number(item.price_per_unit || 0) * 50)\r\n      return total + (pricePerBox * item.quantity)\r\n    }, 0)\r\n  }\r\n\r\n  const getCartCount = () => {\r\n    return cart.reduce((count, item) => count + item.quantity, 0)\r\n  }\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        loading,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateQuantity,\r\n        clearCart,\r\n        getCartTotal,\r\n        getCartCount,\r\n        loadCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useCart() {\r\n  const context = useContext(CartContext)\r\n  if (context === undefined) {\r\n    throw new Error('useCart must be used within a CartProvider')\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAgCA,MAAM,4BAAc,IAAA,8NAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yNAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yNAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yNAAQ,EAAgB;IAEpD,kCAAkC;IAClC,IAAA,0NAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,IAAI;gBACF,MAAM,OAAO,KAAK,KAAK,CAAC;gBACxB,UAAU,KAAK,EAAE;YACnB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uBAAuB;YACvC;QACF;IACF,GAAG,EAAE;IAEL,oCAAoC;IACpC,IAAA,0NAAS,EAAC;QACR,IAAI,QAAQ;YACV;QACF;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,WAAW;QACf,IAAI,CAAC,QAAQ;QAEb,WAAW;QACX,IAAI;YACF,MAAM,WAAW,MAAM,mIAAG,CAAC,OAAO,CAAC;YACnC,IAAI,SAAS,OAAO,EAAE;gBACpB,QAAQ,SAAS,IAAI,IAAI,EAAE;YAC7B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,YAAY,OAAO,SAAc;QACrC,IAAI,CAAC,QAAQ;YACX,2DAA2D;YAC3D,MAAM,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,gBAAgB;YACjE,SAAS,IAAI,CAAC;gBAAE;gBAAS;YAAS;YAClC,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACjD,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,mIAAG,CAAC,SAAS,CAAC,QAAQ,QAAQ,EAAE,EAAE;YACzD,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM;QACR;IACF;IAEA,MAAM,iBAAiB,OAAO;QAC5B,IAAI,CAAC,QAAQ;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,mIAAG,CAAC,cAAc,CAAC,QAAQ;YAClD,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C;IACF;IAEA,MAAM,iBAAiB,OAAO,QAAgB;QAC5C,IAAI,CAAC,QAAQ;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,mIAAG,CAAC,cAAc,CAAC,QAAQ,QAAQ;YAC1D,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,MAAM,YAAY;QAChB,IAAI,CAAC,QAAQ;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,mIAAG,CAAC,SAAS,CAAC;YACrC,IAAI,SAAS,OAAO,EAAE;gBACpB,QAAQ,EAAE;YACZ;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,MAAM,eAAe;QACnB,OAAO,KAAK,MAAM,CAAC,CAAC,OAAO;YACzB,MAAM,cAAc,OAAO,KAAK,aAAa,IAAI,OAAO,KAAK,cAAc,IAAI,KAAK;YACpF,OAAO,QAAS,cAAc,KAAK,QAAQ;QAC7C,GAAG;IACL;IAEA,MAAM,eAAe;QACnB,OAAO,KAAK,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAC7D;IAEA,qBACE,sPAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,2NAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}