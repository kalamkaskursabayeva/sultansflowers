(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97873,e=>{"use strict";var t=e.i(94606),r=e.i(23952);function a({className:e,type:a,...i}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>a])},72479,e=>{"use strict";var t=e.i(94606),r=e.i(62415);e.i(84233);var a=e.i(7233),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let l=(0,a.createSlot)(`Primitive.${i}`),n=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?l:i,{...n,ref:r})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),l=r.forwardRef((e,r)=>(0,t.jsx)(i.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=e.i(23952);function s({className:e,...r}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>s],72479)},11213,e=>{"use strict";var t=e.i(94606),r=e.i(62415),a=e.i(35124),i=e.i(63918),l=e.i(97873),n=e.i(72479),s=e.i(42268),o=e.i(52572);function d(){let{user:e}=(0,o.useAuth)(),[d,c]=(0,r.useState)([]),[u,p]=(0,r.useState)(!0),[x,m]=(0,r.useState)(!1),[g,h]=(0,r.useState)(null),[v,b]=(0,r.useState)(""),[y,_]=(0,r.useState)({name:"",category:"Roses",color:"",variety:"",stem_length:"",packaging_type:"",price_per_unit:"",price_per_box:"",min_order_quantity:"10",stock_quantity:"0",description:"",plantation_country:"China",next_delivery_date:""});(0,r.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=await s.api.getProducts();e.success&&c(e.products)}catch(e){console.error("Error fetching products:",e)}finally{p(!1)}},f=e=>{e?(h(e),_({name:e.name,category:e.category,color:e.color,variety:e.variety||"",stem_length:e.stem_length||"",packaging_type:e.packaging_type||"",price_per_unit:e.price_per_unit.toString(),price_per_box:e.price_per_box?.toString()||"",min_order_quantity:e.min_order_quantity.toString(),stock_quantity:e.stock_quantity.toString(),description:e.description||"",plantation_country:"",next_delivery_date:e.next_delivery_date||""})):(h(null),_({name:"",category:"roses",color:"",variety:"",stem_length:"",packaging_type:"",price_per_unit:"",price_per_box:"",min_order_quantity:"50",stock_quantity:"0",description:"",plantation_country:"",next_delivery_date:""})),m(!0)},N=async t=>{if(t.preventDefault(),e?.id)try{let t={name:y.name,category:y.category,color:y.color,variety:y.variety,stem_length:y.stem_length,packaging_type:y.packaging_type,price_per_unit:parseFloat(y.price_per_unit),price_per_box:parseFloat(y.price_per_box)||null,min_order_quantity:parseInt(y.min_order_quantity),stock_quantity:parseInt(y.stock_quantity),description:y.description,image_url:"",next_delivery_date:y.next_delivery_date||null};g?await s.api.updateProduct(e.id,g.id,t):await s.api.createProduct(e.id,t),m(!1),j()}catch(e){console.error("Error saving product:",e),alert("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ð¸")}},w=async t=>{if(e?.id&&confirm("Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ Ñ‚Ð¾Ð²Ð°Ñ€?"))try{await s.api.deleteProduct(e.id,t),j()}catch(e){console.error("Error deleting product:",e),alert("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸")}},k=d.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.color.toLowerCase().includes(v.toLowerCase()));return(0,t.jsxs)(a.DashboardLayout,{title:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ð°Ð¼Ð¸",requiredRole:"worker",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)(l.Input,{placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ Ð¸Ð»Ð¸ Ñ†Ð²ÐµÑ‚Ñƒ...",value:v,onChange:e=>b(e.target.value),className:"max-w-xs"}),(0,t.jsx)(i.Button,{onClick:()=>f(),className:"bg-[#568a56] hover:bg-[#457245]",children:"+ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð²Ð°Ñ€"})]}),u?(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-[#568a56] border-t-transparent rounded-full mx-auto"}),(0,t.jsx)("p",{className:"text-gray-500 mt-4",children:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..."})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,t.jsxs)("div",{className:"flex gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-100 to-green-50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.image_url?(0,t.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,t.jsx)("span",{className:"text-3xl",children:"ðŸ“¦"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.color}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.variety})]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-sm mb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Ð¦ÐµÐ½Ð° Ð·Ð° ÑˆÑ‚:"}),(0,t.jsxs)("span",{className:"font-medium",children:[e.price_per_unit," KZT"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Ð’ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸:"}),(0,t.jsxs)("span",{children:[e.stock_quantity," ÑˆÑ‚."]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{size:"sm",variant:"outline",onClick:()=>f(e),className:"flex-1",children:"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"}),(0,t.jsx)(i.Button,{size:"sm",variant:"destructive",onClick:()=>w(e.id),className:"flex-1",children:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"})]})]},e.id))}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:g?"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð²Ð°Ñ€":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚Ð¾Ð²Ð°Ñ€"}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ *"}),(0,t.jsx)(l.Input,{value:y.name,onChange:e=>_({...y,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ *"}),(0,t.jsx)("select",{value:y.category,onChange:e=>_({...y,category:e.target.value}),className:"w-full px-3 py-2 border border-input rounded-md",required:!0,children:[{value:"roses",label:"Ð Ð¾Ð·Ñ‹"},{value:"chrysanthemums",label:"Ð¥Ñ€Ð¸Ð·Ð°Ð½Ñ‚ÐµÐ¼Ñ‹"},{value:"carnations",label:"Ð“Ð²Ð¾Ð·Ð´Ð¸ÐºÐ¸"},{value:"lilies",label:"Ð›Ð¸Ð»Ð¸Ð¸"},{value:"gerberas",label:"Ð“ÐµÑ€Ð±ÐµÑ€Ñ‹"},{value:"gypsophila",label:"Ð“Ð¸Ð¿ÑÐ¾Ñ„Ð¸Ð»Ð°"},{value:"other",label:"Ð”Ñ€ÑƒÐ³Ð¾Ðµ"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Ð¦Ð²ÐµÑ‚ *"}),(0,t.jsx)(l.Input,{value:y.color,onChange:e=>_({...y,color:e.target.value}),placeholder:"ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹, Ð±ÐµÐ»Ñ‹Ð¹...",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Ð¡Ð¾Ñ€Ñ‚"}),(0,t.jsx)(l.Input,{value:y.variety,onChange:e=>_({...y,variety:e.target.value}),placeholder:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐ¾Ñ€Ñ‚Ð°..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Ð¦ÐµÐ½Ð° Ð·Ð° ÑˆÑ‚ÑƒÐºÑƒ (KZT) *"}),(0,t.jsx)(l.Input,{type:"number",step:"0.01",value:y.price_per_unit,onChange:e=>_({...y,price_per_unit:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Ð¦ÐµÐ½Ð° Ð·Ð° ÐºÐ¾Ñ€Ð¾Ð±ÐºÑƒ (KZT)"}),(0,t.jsx)(l.Input,{type:"number",step:"0.01",value:y.price_per_box,onChange:e=>_({...y,price_per_box:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð½Ð° ÑÐºÐ»Ð°Ð´Ðµ *"}),(0,t.jsx)(l.Input,{type:"number",value:y.stock_quantity,onChange:e=>_({...y,stock_quantity:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð·Ð°ÐºÐ°Ð· *"}),(0,t.jsx)(l.Input,{type:"number",value:y.min_order_quantity,onChange:e=>_({...y,min_order_quantity:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Ð”Ð»Ð¸Ð½Ð° ÑÑ‚ÐµÐ±Ð»Ñ"}),(0,t.jsx)(l.Input,{value:y.stem_length,onChange:e=>_({...y,stem_length:e.target.value}),placeholder:"60cm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Ð¢Ð¸Ð¿ ÑƒÐ¿Ð°ÐºÐ¾Ð²ÐºÐ¸"}),(0,t.jsx)(l.Input,{value:y.packaging_type,onChange:e=>_({...y,packaging_type:e.target.value}),placeholder:"Box of 50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Ð”Ð°Ñ‚Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð¿Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸"}),(0,t.jsx)(l.Input,{type:"date",value:y.next_delivery_date,onChange:e=>_({...y,next_delivery_date:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ"}),(0,t.jsx)("textarea",{value:y.description,onChange:e=>_({...y,description:e.target.value}),className:"w-full px-3 py-2 border border-input rounded-md min-h-[100px]",placeholder:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ð°..."})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(i.Button,{type:"submit",className:"flex-1 bg-[#568a56] hover:bg-[#457245]",children:g?"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð²Ð°Ñ€"}),(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"ÐžÑ‚Ð¼ÐµÐ½Ð°"})]})]})]})})})]})}e.s(["default",()=>d])}]);